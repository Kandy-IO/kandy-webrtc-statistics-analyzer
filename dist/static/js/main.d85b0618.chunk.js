(this["webpackJsonpwebtrc-stats-parser"]=this["webpackJsonpwebtrc-stats-parser"]||[]).push([[0],{276:function(e,t,a){},508:function(e,t,a){"use strict";a.r(t);var n=a(10),i=a(0),r=a.n(i),c=a(22),s=a.n(c),d=(a(276),a(32)),l=a(115),o=a(521),y=a(515),u=a(518),m=a(513),p=a(516),f=a(520),k=a(514),h=a(519),b=(a(277),a(91)),j=a(204),K=a(205),v=a(239),O=a(237),x=a(517),g=a(522),S=a(39),C=a.n(S),I=a(60);var T,V,R=function(e){var t=e.title,a=e.data;return Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{style:{fontWeight:"bold"},children:t}),Object(n.jsxs)(I.c,{width:600,height:300,data:a,margin:{top:5,right:30,left:20,bottom:5},children:[Object(n.jsx)(I.a,{}),Object(n.jsx)(I.e,{dataKey:"time"}),Object(n.jsx)(I.f,{dataKey:"value"}),Object(n.jsx)(I.d,{}),Object(n.jsx)(I.b,{type:"monotone",dataKey:"value",stroke:"#8884d8",activeDot:{r:8}})]})]})},P="RTCInboundRTPAudioStream",L="RTCOutboundRTPAudioStream",_="RTCInboundRTPVideoStream",A="RTCOutboundRTPVideoStream",B="RTCIceCandidate",D="RTCIceCandidatePair",E=[{text:"SDK",key:"sdk"},{text:"SDK Version",key:"version"},{text:"Platform",key:"platform"},{text:"Call Id",key:"callId"},{text:"Start Time",key:"startTime",isDate:!0},{text:"End Time",key:"endTime",isDate:!0},{text:"Sampling Period (s)",key:"samplingPeriod"}],w=a(30),U=(T={},Object(w.a)(T,D,(function(){return{schema:{startTime:0,endTime:0,nominated:!1,localCandidateId:"",remoteCandidateId:"",transportId:""},standartKeys:[{key:"nominated",defaultValue:!1,type:"boolean"},{key:"localCandidateId",defaultValue:"",type:"string"},{key:"remoteCandidateId",defaultValue:0,type:"string"},{key:"transportId",defaultValue:"",type:"string"}],exceptionKeys:[{key:"endTime",hasLinkedKey:!1,exceptionKey:"timestampUs",exceptionKey2:"timestamp",type:"number"}]}})),Object(w.a)(T,B,(function(){return{schema:{startTime:0,endTime:0,networkType:"",ip:"",port:"",candidateType:"",relayProtocol:""},standartKeys:[{key:"networkType",defaultValue:"n/a",type:"string"},{key:"ip",defaultValue:"n/a",type:"string"},{key:"port",defaultValue:0,type:"number"},{key:"candidateType",defaultValue:"n/a",type:"string"}],exceptionKeys:[{key:"endTime",hasLinkedKey:!1,exceptionKey:"timestampUs",exceptionKey2:"timestamp",type:"number"},{key:"relayProtocol",hasLinkedKey:!1,exceptionKey:"protocol",type:"string"}]}})),Object(w.a)(T,P,(function(){return{schema:{startTime:0,endTime:0,codec:"",packetsReceived:[],packetsReceived_s:[],bytesReceived:[],bytesReceived_s:[],packetsLost:[],jitter:[],jitterBufferDelay:[],streamIds:[],totalPacketsReceived:0,totalBytesReceived:0},standartKeys:[{key:"packetsLost",defaultValue:0,type:"array"},{key:"jitter",defaultValue:0,type:"array"}],exceptionKeys:[{key:"jitterBufferDelay",hasLinkedKey:!0,linkedKey:"trackId",exceptionKey:"members.jitterBufferDelay",type:"array"},{key:"codec",hasLinkedKey:!0,linkedKey:"codecId",exceptionKey:"members.mimeType",exceptionKey2:"mimeType",type:"string"},{key:"endTime",hasLinkedKey:!1,exceptionKey:"timestampUs",exceptionKey2:"timestamp",type:"number"},{key:"streamIds",hasLinkedKey:!1,exceptionKey:"id",type:"array"}],perSecondCalculationKeys:[{key:"packetsReceived",perSecondKey:"packetsReceived_s",totalValueKey:"totalPacketsReceived"},{key:"bytesReceived",perSecondKey:"bytesReceived_s",totalValueKey:"totalBytesReceived"}],hiddenKeys:["totalPacketsReceived","totalBytesReceived","streamIds"]}})),Object(w.a)(T,L,(function(){return{schema:{startTime:0,endTime:0,codec:"",packetsSent:[],packetsSent_s:[],bytesSent:[],bytesSent_s:[],streamIds:[],totalPacketsSent:0,totalBytesSent:0},standartKeys:[],exceptionKeys:[{key:"endTime",hasLinkedKey:!1,exceptionKey:"timestampUs",exceptionKey2:"timestamp",type:"number"},{key:"streamIds",hasLinkedKey:!1,exceptionKey:"id",type:"array"},{key:"codec",hasLinkedKey:!0,linkedKey:"codecId",exceptionKey:"members.mimeType",exceptionKey2:"mimeType",type:"string"}],perSecondCalculationKeys:[{key:"packetsSent",perSecondKey:"packetsSent_s",totalValueKey:"totalPacketsSent"},{key:"bytesSent",perSecondKey:"bytesSent_s",totalValueKey:"totalBytesSent"}],hiddenKeys:["totalPacketsSent","totalBytesSent","streamIds"]}})),Object(w.a)(T,_,(function(){return{schema:{startTime:0,endTime:0,codec:"",decoderImplementation:"",pliCount:[],nackCount:[],packetsReceived:[],packetsReceived_s:[],bytesReceived:[],bytesReceived_s:[],frameWidth:[],frameHeight:[],framesPerSecond:[],streamIds:[],totalPacketsReceived:0,totalBytesReceived:0},standartKeys:[{key:"pliCount",defaultValue:0,type:"array"},{key:"nackCount",defaultValue:0,type:"array"},{key:"frameWidth",defaultValue:0,type:"array"},{key:"frameHeight",defaultValue:0,type:"array"},{key:"framesPerSecond",defaultValue:0,type:"array"},{key:"decoderImplementation",defaultValue:"",type:"string"}],exceptionKeys:[{key:"endTime",hasLinkedKey:!1,exceptionKey:"timestampUs",exceptionKey2:"timestamp",type:"number"},{key:"streamIds",hasLinkedKey:!1,exceptionKey:"id",type:"array"},{key:"codec",hasLinkedKey:!0,linkedKey:"codecId",exceptionKey:"members.mimeType",exceptionKey2:"mimeType",type:"string"}],perSecondCalculationKeys:[{key:"packetsReceived",perSecondKey:"packetsReceived_s",totalValueKey:"totalPacketsReceived"},{key:"bytesReceived",perSecondKey:"bytesReceived_s",totalValueKey:"totalBytesReceived"}],hiddenKeys:["totalPacketsReceived","totalBytesReceived","streamIds"]}})),Object(w.a)(T,A,(function(){return{schema:{startTime:0,endTime:0,codec:"",encoderImplementation:"",pliCount:[],nackCount:[],packetsSent:[],packetsSent_s:[],bytesSent:[],bytesSent_s:[],frameWidth:[],frameHeight:[],framesPerSecond:[],streamIds:[],totalPacketsSent:0,totalBytesSent:0},standartKeys:[{key:"pliCount",defaultValue:0,type:"array"},{key:"nackCount",defaultValue:0,type:"array"},{key:"frameWidth",defaultValue:0,type:"array"},{key:"frameHeight",defaultValue:0,type:"array"},{key:"framesPerSecond",defaultValue:0,type:"array"},{key:"encoderImplementation",defaultValue:"",type:"string"}],exceptionKeys:[{key:"endTime",hasLinkedKey:!1,exceptionKey:"timestampUs",exceptionKey2:"timestamp",type:"number"},{key:"streamIds",hasLinkedKey:!1,exceptionKey:"id",type:"array"},{key:"codec",hasLinkedKey:!0,linkedKey:"codecId",exceptionKey:"members.mimeType",exceptionKey2:"mimeType",type:"string"}],perSecondCalculationKeys:[{key:"packetsSent",perSecondKey:"packetsSent_s",totalValueKey:"totalPacketsSent"},{key:"bytesSent",perSecondKey:"bytesSent_s",totalValueKey:"totalBytesSent"}],hiddenKeys:["totalPacketsSent","totalBytesSent","streamIds"]}})),T),F=function(e){return e>Math.pow(10,15)?Math.ceil(e/1e3):e},W=function(e){return new Intl.DateTimeFormat(navigator.languages[0],{timeStyle:"medium",hour12:!1}).format(new Date(e))},N=function(e){return!isNaN(e)&&String(e).length>=13},H=x.a.Panel,J=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={localCandidateId:null,remoteCandidateId:null,mainCollapseActiveKeys:[],iceCandidateActiveKeys:[]},e}return Object(K.a)(a,[{key:"componentDidUpdate",value:function(e){C.a.isEqual(this.props.descriptionList,e.descriptionList)||this.setState({localCandidateId:null,remoteCandidateId:null,mainCollapseActiveKeys:[],iceCandidateActiveKeys:[]})}},{key:"render",value:function(){var e=this,t=this.state.mainCollapseActiveKeys;return Object(n.jsxs)(x.a,{activeKey:t,onChange:function(t){return e.setState({mainCollapseActiveKeys:Object(b.a)(t)})},children:[this._getCharts(),this._getIceCandidatePairs(),this._getIceCandidates()]})}},{key:"_getCharts",value:function(){var e=this.props.chartList;return C.a.isEmpty(e)?null:e.map((function(e){var t={},a=U[e[0]]().hiddenKeys,i=Object.entries(e[1]).filter((function(e){return Array.isArray(e[1])&&!a.includes(e[0])})),r=Object.entries(e[1]).filter((function(e){return!Array.isArray(e[1])&&!a.includes(e[0])}));return t.charts=i.map((function(t){var a=t[1],i=F(e[1].startTime),r=F(e[1].endTime),c=[],s=(r-i)/a.length;return a.forEach((function(e,t){var a=new Date(i+s*(t+1));c.push({time:W(a.getTime()),value:e})})),Object(n.jsx)(R,{title:t[0],data:c},t[0])})),t.chartDescriptions=r.map((function(e){return Object(n.jsx)(f.a.Item,{label:e[0],labelStyle:{fontWeight:"bold"},children:N(e[1])?W(F(e[1])):e[1]},e[0])})),Object(n.jsxs)(H,{header:e[0],children:[Object(n.jsx)(g.a,{style:{justifyContent:"center"},children:Object(n.jsx)(f.a,{style:{padding:10},column:{xs:1,sm:2,lg:4},children:t.chartDescriptions})}),Object(n.jsx)(m.a,{children:"Charts"}),Object(n.jsx)(g.a,{style:{justifyContent:"center"},children:t.charts})]},e[0])}))}},{key:"_getIceCandidatePairs",value:function(){var e=this,t=this.props.descriptionList,a=this.state,i=a.localCandidateId,r=a.remoteCandidateId;if(C.a.isEmpty(t))return null;var c=t.find((function(e){return e[0]===D}))[1],s=Object.entries(c),d=0,l=s.find((function(e,t){return!!e[1].nominated&&(d=t,!0)})),o={localCandidateId:l[1].localCandidateId,remoteCandidateId:l[1].remoteCandidateId};return delete s[d],s.unshift(l),i||r||this.setState(o),Object(n.jsx)(H,{header:D,children:Object(n.jsx)(x.a,{children:s.map((function(t){var a=t[0],i=t[1];return Object(n.jsx)(H,{header:e._getPanelHeaderStyle({isBold:i.nominated,headerText:a}),children:Object(n.jsx)(f.a,{style:{padding:10},column:{xs:1,sm:2,lg:4},children:Object.entries(i).map((function(t){return Object(n.jsx)(f.a.Item,{label:t[0],labelStyle:{fontWeight:"bold"},children:N(t[1])?W(F(t[1])):["localCandidateId","remoteCandidateId"].includes(t[0])?Object(n.jsx)("a",{onClick:function(){return e._onClickIceCandidatePairLink(t[1])},href:"#".concat(t[1]),children:String(t[1])}):String(t[1])},t[0])}))})},a)}))})},D)}},{key:"_getIceCandidates",value:function(){var e=this,t=this.props.descriptionList,a=this.state,i=a.localCandidateId,r=a.remoteCandidateId,c=a.iceCandidateActiveKeys;if(C.a.isEmpty(t))return null;var s=t.find((function(e){return e[0]===B}))[1],d=Object.entries(s),l=[],o=[];return d.forEach((function(e){[i,r].includes(e[0])?o.push(e):l.push(e)})),d=[].concat(o,l),Object(n.jsx)(H,{header:B,children:Object(n.jsx)(x.a,{activeKey:c,onChange:function(t){return e.setState({iceCandidateActiveKeys:Object(b.a)(t)})},children:d.map((function(t){var a=t[0],c=t[1];return Object(n.jsx)(H,{header:e._getPanelHeaderStyle({isBold:[i,r].includes(a),headerText:a}),id:a,children:Object(n.jsx)(f.a,{style:{padding:10},column:{xs:1,sm:2,lg:4},children:Object.entries(c).map((function(e){return Object(n.jsx)(f.a.Item,{label:e[0],labelStyle:{fontWeight:"bold"},children:N(e[1])?W(F(e[1])):String(e[1])},e[0])}))})},a)}))})},B)}},{key:"_getPanelHeaderStyle",value:function(e){var t=e.isBold,a=e.headerText;return Object(n.jsx)("span",{style:{fontWeight:t?"bold":"normal"},children:a})}},{key:"_onClickIceCandidatePairLink",value:function(e){var t=this.state,a=t.mainCollapseActiveKeys,n=t.iceCandidateActiveKeys,i=a.indexOf(B),r={iceCandidateActiveKeys:[e].concat(Object(b.a)(n))};-1===i&&(r=Object(d.a)(Object(d.a)({},r),{},{mainCollapseActiveKeys:[B].concat(Object(b.a)(a))})),this.setState(r)}}]),a}(i.Component),M=r.a.memo(J),q=G(),z=0;function G(){var e;return e={},Object(w.a)(e,P,null),Object(w.a)(e,L,null),Object(w.a)(e,_,null),Object(w.a)(e,A,null),Object(w.a)(e,D,null),Object(w.a)(e,B,null),e}function Q(e,t,a){var n=U[e](),i={};q[e]||(q[e]=n.schema,q[e].startTime=t.timestampUs||t.timestamp),q[e].streamIds.includes(t.id)||n.perSecondCalculationKeys.forEach((function(t){q[e][t.totalValueKey]=C.a.last(q[e][t.key])||0})),n.perSecondCalculationKeys.forEach((function(a){i[a.key]=t[a.key],0!==q[e][a.totalValueKey]&&(i[a.key]+=q[e][a.totalValueKey]);var n=t.timestampUs||t.timestamp,r=function(e){var t=e.currentValue,a=e.previousValue,n=e.currentTime,i=e.previousTime;if(!t)return 0;var r=t-a,c=F(n)-F(i);return r/(c/1e3)}({currentValue:i[a.key],previousValue:C.a.last(q[e][a.key])||0,currentTime:n,previousTime:q[e].endTime||F(n)-1e3*z});C.a.isFinite(r)&&q[e][a.perSecondKey].push(r),q[e][a.key].push(i[a.key])})),n.standartKeys.forEach((function(a){"array"===a.type?q[e][a.key].push(t[a.key]||a.defaultValue):q[e][a.key]=t[a.key]||a.defaultValue})),n.exceptionKeys.forEach((function(n){var i,r,c=null,s=null;n.hasLinkedKey?(i=a,r=t[n.linkedKey],(c=Array.isArray(i)?i.find((function(e){return e.id===r})):i[r])&&(s=C.a.get(c,n.exceptionKey,n.exceptionKey2?c[n.exceptionKey2]:c[n.key]),"array"===n.type?q[e][n.key].push(s):q[e][n.key]=s)):(s=C.a.get(t,n.exceptionKey,t[n.exceptionKey2]),"array"===n.type?q[e][n.key].push(s):q[e][n.key]=s)}))}function X(e,t){var a=U[e]();q[e]&&q[e][t.id]||(q[e]=Object.assign({},q[e],Object(w.a)({},t.id,a.schema)),q[e][t.id].startTime=t.timestampUs||t.timestamp),a.standartKeys.forEach((function(a){"array"===a.type?q[e][t.id][a.key].push(t[a.key]||a.defaultValue):q[e][t.id][a.key]=t[a.key]||a.defaultValue})),a.exceptionKeys.forEach((function(a){var n=C.a.get(t,a.exceptionKey,t[a.exceptionKey2]||a.defaultValue);"array"===a.type?q[e][t.id][a.key].push(n):q[e][t.id][a.key]=n}))}function Y(e,t,a){var n=new FileReader;n.onload=function(e){q=G(),function(e,t,a){try{if((V=JSON.parse(e)).length>0)t(V.map((function(e,t){var a=function(e){var t;q=G(),t=e[0].id?e.filter((function(e){return e.id.includes("kandy-sdk-info")})):e.map((function(e){return e["kandy-sdk-info"]}));var a=function(e,t,a){var n=Object.assign({},e);t=t||e,n&&n.members&&delete(n=Object(d.a)(Object(d.a)({},e),n.members)).members;var i=n,r=i.sdk,c=i.version,s=i.callId,l=i.platform,o=i.timestampUs,y=i.timestamp,u=a.timestampUs,m=a.timestamp,p=o||y,f=u||m,k=F(t.timestampUs||t.timestamp)-F(e.timestampUs||e.timestamp);return z=isNaN(k)?0:Math.round(k/1e3),{sdk:r,version:c,callId:s,platform:l,startTime:p,endTime:f,samplingPeriod:z}}(t[0],t[1],t[t.length-1]),n=(i=e,i.forEach((function(e){e.id?Z(e.id,e,i):Object.keys(e).forEach((function(t){var a=Object(d.a)(Object(d.a)({},e[t]),e[t].members);delete a.members,Z(t,a,e)}))})),q);var i;return{sdkInfo:a,data:n}}(e[1]);return Object(d.a)({id:e[0]},a)})))}catch(n){a(n),console.error(n)}}(e.target.result,t,a)},n.onerror=function(){a(n.error),console.warn(n.error)},n.readAsText(e)}function Z(e,t,a){switch(!0){case e.includes(P):Q(P,t,a);break;case e.includes(L):Q(L,t,a);break;case e.includes(_):Q(_,t,a);break;case e.includes(A):Q(A,t,a);break;case e.includes(D):X(D,t);break;case e.includes(B):X(B,t)}}var $=[P,L,_,A],ee=[D,B],te=o.a.Content,ae=y.a.Dragger;function ne(){var e=Object(i.useState)(null),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(i.useState)(!1),s=Object(l.a)(c,2),y=s[0],b=s[1],j=Object(i.useState)(null),K=Object(l.a)(j,2),v=K[0],O=K[1];Object(i.useEffect)((function(){b(!1)}),[a]),Object(i.useEffect)((function(){v&&(b(!1),r(null),u.a.error({message:"Upps! Error Occured",description:v.toString(),onClick:function(){console.log("Notification Clicked!")}}))}),[v]);var x={name:"file",showUploadList:!1,customRequest:function(e){console.log("Override default xhr implementation: ",e)},onChange:function(e){b(!0),Y(e.file.originFileObj,r,O)}},g={defaultActiveKey:"0",type:"card",size:"large"};function S(e){var t=a[e].sdkInfo;return t?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(m.a,{children:"SDK Info"}),Object(n.jsx)(f.a,{style:{padding:10},column:{xs:1,sm:2,lg:4},children:E.map((function(e){return Object(n.jsx)(f.a.Item,{label:e.text,labelStyle:{fontWeight:"bold"},children:e.isDate?(a=F(t[e.key]),new Intl.DateTimeFormat(navigator.languages[0],{dateStyle:"medium",timeStyle:"medium",hour12:!1}).format(new Date(a))):t[e.key]||""},e.key);var a}))})]}):null}return Object(n.jsx)(k.a,{spinning:y,children:Object(n.jsx)(o.a,{children:Object(n.jsxs)(te,{style:{backgroundColor:"white"},children:[Object(n.jsxs)(ae,Object(d.a)(Object(d.a)({},x),{},{children:[Object(n.jsx)("p",{className:"ant-upload-drag-icon",children:Object(n.jsx)(h.a,{})}),Object(n.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"})]})),a?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(m.a,{children:"Calls"}),Object(n.jsx)(p.a,Object(d.a)(Object(d.a)({},g),{},{children:a.map((function(e,t){var a=e.id,r=e.data,c=Object.entries(r||{}).filter((function(e){return e[1]&&$.includes(e[0])})),s=Object.entries(r||{}).filter((function(e){return e[1]&&ee.includes(e[0])}));return Object(n.jsxs)(p.a.TabPane,{tab:a.length>30?a.slice(0,30)+"...":a,children:[S(t),r?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(m.a,{children:"Charts and Statistics Info"}),Object(i.createElement)(M,Object(d.a)(Object(d.a)({},{chartList:c,descriptionList:s}),{},{key:a}))]}):null]},a)}))}))]}):null]})})})}var ie=Object(i.memo)(ne),re=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,523)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),i(e),r(e),c(e)}))};s.a.render(Object(n.jsx)(ie,{}),document.getElementById("root")),re()}},[[508,1,2]]]);
//# sourceMappingURL=main.d85b0618.chunk.js.map